{"version":3,"sources":["components/Details.js","components/Filter.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Details","person","deleteHandler","name","number","onClick","id","Filter","props","onChange","handleFilterChange","PersonForm","value","nameValue","nameChangeHandler","numberValue","numberChangeHandler","type","clickHandler","personObject","axios","post","then","response","data","newNumber","changedPerson","put","delete","App","useState","persons","setPersons","newName","setNewName","setNewNumber","showAll","setShowAll","filter","setFilter","message","setMessage","personsToShow","toLowerCase","includes","Notification","className","useEffect","get","personToDelete","find","window","confirm","phonebookService","catch","error","event","filterText","target","length","preventDefault","updatedPerson","map","newPerson","concat","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dc1639fd.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Details = ({ person, deleteHandler }) => {\r\n    return (\r\n        <div>\r\n            {person.name}: {person.number}\r\n            <button onClick={() => deleteHandler(person.id)}>Delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Details","import React from 'react'\r\n\r\nconst Filter = props => {\r\n    return (\r\n        <div>\r\n            Filter names containing <input onChange={props.handleFilterChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n                name: <input value={props.nameValue} onChange={props.nameChangeHandler} />\r\n            </div>\r\n            <div>\r\n                number: <input value={props.numberValue} onChange={props.numberChangeHandler} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" onClick={props.clickHandler}>add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseURL = '/api/persons'\r\n\r\nconst create = (personObject) => {\r\n    const request = axios.post(baseURL, personObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (person, newNumber) => {\r\n    const changedPerson = { ...person, number: newNumber }\r\n    const request = axios.put(`${baseURL}/${person.id}`, changedPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { create, update, remove }","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Details from './components/Details'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport './index.css'\n\nimport phonebookService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState('')\n\n  const personsToShow = showAll ? persons : persons.filter(person => person.name.toLowerCase().includes(filter))\n\n  const Notification = ({ message }) => {\n    if (message === '') {\n      return null\n    }\n\n    return (\n      <div className=\"message\">\n        {message}\n      </div>\n    )\n  }\n\n  useEffect(() => {\n    axios\n      .get('http://localhost:3001/api/persons')\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const personExists = persons.find(person => person.name === newName)\n\n    if (personExists) {\n      const person = persons.find(person => person.name === newName)\n\n      const confirm = window.confirm(`Change ${person.name} number to ${newNumber}?`)\n\n      if (!confirm) { return null }\n\n      phonebookService.update(person, newNumber)\n        .then(updatedPerson => {\n          setPersons(persons.map(person =>\n            person.name === updatedPerson.name ? updatedPerson : person))\n        })\n\n      setMessage(`${person.name} number changed to ${newNumber}`)\n    }\n    else {\n\n      phonebookService.create(personObject)\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n        })\n    }\n\n    setNewName('')\n    setNewNumber('')\n\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    const filterText = event.target.value.toLowerCase()\n    if (filterText.length > 0) {\n      setFilter(filterText)\n      setShowAll(false)\n    }\n    else {\n      setShowAll(true)\n    }\n  }\n\n  const deleteHandler = (id) => {\n    const personToDelete = persons.find(person => person.id === id)\n    const confirmDelete = window.confirm(`Delete ${personToDelete.name}?`)\n    if (confirmDelete) {\n      phonebookService.remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n          setMessage(`${personToDelete.name} deleted from phonebook.`)\n        })\n        .catch(error => {\n          setMessage(\n            `${personToDelete.name} does not exist in phone book`\n          )\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n\n      <Filter handleFilterChange={handleFilterChange} />\n\n      <h3>Add Person and Number</h3>\n\n      <PersonForm\n        nameValue={newName} nameChangeHandler={handleNameChange}\n        numberValue={newNumber} numberChangeHandler={handleNumberChange}\n        clickHandler={addPerson}\n      />\n\n      <h2>Numbers </h2>\n      {personsToShow.map(person =>\n        <Details key={person.name} person={person} deleteHandler={deleteHandler} />\n      )}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}